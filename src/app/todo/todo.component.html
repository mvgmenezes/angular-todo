<h1>Todo</h1>

<div class="container">
  
  <div class="alert alert-warning" *ngIf='todoForm.dirty && todoForm.invalid'>Campo obrigatorio</div>
  <div class="alert alert-warning" *ngIf='todoForm.dirty && description.invalid'>Description at least 5 caracters</div>
  <div class="alert alert-warning" *ngIf='todoForm.dirty && targetDate.invalid'>Data obrigatorio</div>

  <form (ngSubmit)="!todoForm.invalid && saveTodo()" #todoForm="ngForm"> <!--transformar em form permite a validacao e o enter efetua o submit-->
    <fieldset class="form-group">
      <label>description</label>
      <input type="text"  [(ngModel)]="todo.description" #description="ngModel" class="form-control" name="description" required="required" minlength="5">
    </fieldset>

    <fieldset class="form-group">
      <label>Date</label>
      <!-- como tenho que formatar o campo e nao é permitido formatar um evento o campo assume 
      o seguinte padrao : [(ngModel)] contém o atributo [] e o evento () para conseguir formatar
      basta separar o atribuito do evento ficando conforme abaixo.-->
      <input type="date" #targetDate="ngModel"
      [ngModel]="todo.targetDate | date:'yyyy-MM-dd'" 
      (ngModelChange)="todo.targetDate = $event" class="form-control" name="targetDate" required="required">
    </fieldset>

    <!-- <button class="btn btn-success" (click)="saveTodo()">Save</button> -->
    <button type="submit "class="btn btn-success" >Save</button>
  </form>
</div>  